FROM golang:1.23

WORKDIR /app/src/coordinator

COPY go.mod go.sum ./

RUN go mod download

COPY src/ ./src/
COPY ../cmd/coordinator/main.go .

RUN go build -o coordinator main.go

CMD ["./coordinator", "--coordinator_port=:8082"]