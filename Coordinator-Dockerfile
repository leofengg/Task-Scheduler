FROM golang:1.23

WORKDIR /app/src/scheduler

COPY go.mod go.sum ./

RUN go mod download

COPY src/ ./src/
COPY ../cmd/scheduler/main.go .

RUN go build -o scheduler main.go

CMD ["./coordinator", "--coordinator_port=:8082"]